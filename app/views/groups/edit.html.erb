<h2>Edit this Group:</h2>

<%= form_tag "/groups/#{@group.id}", method: :patch do %>
  <div class="form-group">
    <%= label_tag :name %>
    <%= text_field_tag :name, @group.name, class: "form-control" %>
  </div>
  <div class="form-group">
    <label>Field</label>
    <select class="form-control" name="field_id" required>
      <option>No field selected</option>
      <% @fields.each do |field| %>
        <option value="<%= field.id %>" class="field-id"><%= field.name %></option>
      <% end %>
    </select>
  </div>
  <div class="form-group">
    <label>Group Type</label>
    <select class="form-control" name="group_type">
            <option value="Pickup">Pickup</option>
            <option value="League">League</option>
            <option value="Other">Other (Elaborate in Description)</option>
    </select>
  </div>
  <div class="form-group">
    <%= label_tag :description %>
    <%= text_field_tag :description, @group.description, class: "form-control" %>
  </div>
  <div>
    <%= button_tag 'Submit', class: "btn btn-default" %>
    <a href="/groups"><button class="btn btn-default">Back</button></a>
  </div>
<% end %>


<script type="text/javascript">
$(document).ready(function () {
  var fields = $(".field-id");
  for (var i = 0; i <= fields.length; i++) {
    var field = fields[i];
    if ($(field).val() === "<%= @group.field_id %>") {
      field.setAttribute('selected', true);
    }
  }
});
</script>